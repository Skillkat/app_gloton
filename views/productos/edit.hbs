{{> navbar }}
<div class="container mt-5">
  <h2>Editar Producto</h2>
  {{#if error}}
    <div class="alert alert-danger">{{error}}</div>
  {{/if}}
  {{#if success}}
    <div class="alert alert-success">{{success}}</div>
  {{/if}}
  <form action="/productos/{{producto.id}}?_method=PUT" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
      <label class="form-label">Nombre del Producto</label>
      <input type="text" class="form-control" name="nombre" value="{{producto.nombre}}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Descripci√≥n</label>
      <textarea class="form-control" name="descripcion">{{producto.descripcion}}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Precio</label>
      <input type="number" step="0.01" class="form-control" name="precio" value="{{producto.precio}}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Disponible</label>
      <input type="checkbox" name="disponible" {{#if producto.disponible}}checked{{/if}}>
    </div>
    <div class="mb-3">
      <label class="form-label">Imagen Actual</label>
      <div>
        {{#if producto.imagen_url}}
          <img src="{{producto.imagen_url}}" alt="{{producto.nombre}}" style="max-width: 100px;">
        {{else}}
          Sin imagen
        {{/if}}
      </div>
      <label class="form-label">Nueva Imagen</label>
      <input type="file" class="form-control" name="imagen" accept="image/jpeg,image/png">
      <input type="hidden" name="imagen_url" value="{{producto.imagen_url}}">
    </div>
    <button type="submit" class="btn btn-success">Actualizar</button>
  </form>
</div>